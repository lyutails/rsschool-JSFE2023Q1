(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))o(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const c of i.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&o(c)}).observe(document,{childList:!0,subtree:!0});function e(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function o(s){if(s.ep)return;s.ep=!0;const i=e(s);fetch(s.href,i)}})();const j=["maple","spruce","elder","birch","pine","cedar","sakura","sequoia","whomping willow","oak","appletree","aspen","bamboo","rosehip","nickel","ivy"],U=["2000","Repaired","Gold","Access","Way","Thorns","Elven","Twist","Rooftop","2023","Twice Repaired","Platina","Sparkles","Marathon","Wind's Wings","Wind's Song","Scorpion","Meow","Waterproof","Firebreath","Glitch","No Trace","Pick","Naked","Hurricane","Silent","Dragon"],A=["Nimbus","School Broomstick","Firebolt","Phantom","Moonlight Strike","Ghost Broom","Silverrain","Tashenka","Cherry","Tornado","Abyss","Tails","Butterfly","Colibri","Night Star","Myth","Crab","Phenomenon","Salute","Rumours","Raven"];class n{constructor({tagName:t,classList:e=[""],textContent:o="",children:s=[]}){this.append=(...i)=>{this.node.append(...i.map(c=>c.node))},this.node=document.createElement(t??"div"),this.node.classList.add(...e),this.node.textContent=o,s.length&&this.append(...s)}destroy(){this.node.remove()}addTextContent(t){this.node.textContent=t}addMoreClasses(t){this.node.classList.add(t)}removeClass(t){this.node.classList.remove(t)}toggleClass(t){this.node.classList.toggle(t)}addLink(t){this.node.setAttribute("href",t)}setPlaceholder(t){this.node.setAttribute("placeholder",t)}randomizeOwl(t){return t[Math.floor(Math.random()*t.length)]}disableButton(){this.node.setAttribute("disabled","")}enableButton(){this.node.removeAttribute("disabled")}setCursorPointer(){this.node.hasAttribute("disabled")&&(this.node.style.cursor="pointer"),this.node.style.cursor="default"}getRandomName(){const t=A[Math.floor(Math.random()*A.length)],e=U[Math.floor(Math.random()*U.length)],o=j[Math.floor(Math.random()*j.length)];return`${t} ${e} ${o}`}getRandomColor(){const t="0123456789abcdef";let e="#";for(let o=0;o<6;o++)e+=t[Math.floor(Math.random()*16)];return e}ifInputName(t){return t===""?this.getRandomName():t}}class V extends n{constructor(){super({tagName:"div",classList:["brooms_parking"]});const t=new n({tagName:"div",classList:["parking_sign"]}),e=new n({tagName:"div",classList:["parking_cat"]}),o=new n({tagName:"div",classList:["brooms_wrapper"],children:[t,e]});this.node.append(o.node)}}class tt extends n{constructor(){super({tagName:"div",classList:["not_found"]});const t=new n({tagName:"div",classList:["not_found_wrapper"],textContent:"Highly likely you got lost in the castle - try another staircase leading to the quidditch field, brooms parking or winners room."});this.node.append(t.node)}}class f{constructor(){this.observers=[]}subscribe(t){this.observers.push(t)}unsubscribe(t){this.observers=this.observers.filter(e=>e!==t)}notify(t){this.observers.forEach(e=>{e(t)})}}const K=new f,m={_currentWitches:4,currentWitchesObserver:K,_indexForUpdate:0,_currentUpdate:0,_currentPage:1,_currentWinnersPage:1,set currentWitches(r){this._currentWitches=r,this.currentWitchesObserver.notify("lalala")},get currentWitches(){return this._currentWitches},set indexForUpdate(r){this._indexForUpdate=r},get indexForUpdate(){return this._indexForUpdate},set currentUpdate(r){this._currentUpdate=r,this.currentWitchesObserver.notify("lalala")},get currentUpdate(){return this._currentUpdate},set currentPage(r){this._currentPage=r,this.currentWitchesObserver.notify("lalala")},get currentPage(){return this._currentPage},set currentWinnersPage(r){this._currentWinnersPage=r},get currentWinnersPage(){return this._currentWinnersPage}};class et extends n{constructor(){super({tagName:"div",classList:["brooms_count"]}),this.node.textContent="Currently total brooms' count is paste-here-number."}}const v=new et;class _ extends n{constructor(){super({tagName:"button",classList:["control_widget_button"]})}}class h extends n{constructor(){super({tagName:"div",classList:["control_widget"]}),h.controlName=new n({tagName:"input",classList:["control_widget_name"]}),h.controlName.setPlaceholder("Imagine Name"),h.controlName.node.value="",h.controlName.node.setAttribute("type","text"),h.controlColor=new n({tagName:"input",classList:["control_widget_color"]}),h.controlColor.node.setAttribute("type","color"),h.controlColor.node.value="#55c6a8",h.controlButton=new _,h.controlButton.node.textContent="Create",this.node.append(h.controlName.node,h.controlColor.node,h.controlButton.node)}}var g=(r=>(r.Quidditch="quidditch",r.BroomParking="brooms_parking",r.Winners="winners",r.NotFound="404",r))(g||{}),T=(r=>(r.garage="/garage",r.winners="/winners",r.engine="/engine",r))(T||{});const D="http://127.0.0.1:3000",x=`${D}${T.garage}`,nt=`${D}${T.winners}`,Q=`${D}${T.engine}`,ot="7",P=[{key:"_page",value:`${m.currentPage}`},{key:"_limit",value:ot}],st="10";`${m.currentWinnersPage}`;const G=async r=>{try{const e=await fetch(`${x}?${(s=>s.map(i=>`${i.key}=${i.value}`).join("&"))(r)}`);if(!e.ok)throw new Error("some error happened on the way");return await e.json()}catch{throw new Error("smth wrong went with getting all witches")}},J=async(r,t)=>{try{await fetch(`${x}`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:r,color:t})})}catch{throw new Error("smth wrong went with creating witch")}},rt=async(r,t,e)=>{try{return fetch(`${x}/${e}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:r,color:t})})}catch{throw new Error("smth wrong went with updating witch")}},at=async r=>{await fetch(`${Q}?&id=${r}&status=stopped`,{method:"PATCH"}).then(t=>t.json()).catch(()=>{throw new Error("smth went wrong here")})};async function z(r){return(await fetch(`${Q}?id=${r}&status=drive`,{method:"PATCH"})).json()}const I=async r=>fetch(`${Q}?id=${r}&status=started`,{method:"PATCH"}).then(t=>t.json()).then(t=>t).catch(()=>{throw new Error("smth went wrong here")}),it=async r=>await(await fetch(`${x}/${r}`,{method:"DELETE"})).json(),W=async()=>{const r=fetch(`${x}?&_page=1&_limit=7`);if(!r)throw new Error("no witches found");return r.then(e=>e.headers.get("X-Total-Count")||"0")},ct=async()=>{const r=fetch(`${nt}?&_page=1&_limit=10`);if(!r)throw new Error("no witches found");return r.then(e=>e.headers.get("X-Total-Count")||"0")};class u extends n{constructor(){super({tagName:"div",classList:["control_widget"]}),u.controlName=new n({tagName:"input",classList:["control_widget_name"]}),u.controlName.setPlaceholder("Customize Name"),u.controlName.node.setAttribute("type","text"),u.controlColor=new n({tagName:"input",classList:["control_widget_color"]}),u.controlColor.node.setAttribute("type","color"),u.controlColor.node.value="#55c6a8",u.controlButton=new _,u.controlButton.node.textContent="Update",u.controlButton.node.onclick=()=>{u.updateWitchHandler()},this.node.append(u.controlName.node,u.controlColor.node,u.controlButton.node)}static updateWitchHandler(){rt(`${u.controlName.node.value}`,`${u.controlColor.node.value}`,m.indexForUpdate),setTimeout(()=>{u.controlName.node.value=""},100),m.currentUpdate+=1}}class dt extends n{constructor(){super({tagName:"div",classList:["control_panel"]});const t=new h,e=new u;this.node.append(t.node,e.node)}}class l extends n{constructor(){super({tagName:"div",classList:["race_buttons"]}),l.raceButton=new n({tagName:"button",classList:["race_buttons_button"],textContent:"Race"}),l.resetButton=new n({tagName:"button",classList:["race_buttons_button"],textContent:"Reset"}),l.moreWitchesButton=new n({tagName:"button",classList:["race_buttons_button"],textContent:"More Witches"}),this.node.append(l.raceButton.node,l.resetButton.node,l.moreWitchesButton.node)}}class C extends n{constructor(){super({tagName:"button",classList:["track_buttons_button"]})}}const S=new f,E=new f,F=new f;class ut extends n{constructor(){super({tagName:"div",classList:["track_buttons"]}),this.flyButton=new C,this.flyButton.node.textContent="Fly",this.backButton=new C,this.backButton.node.textContent="Back",this.backButton.disableButton(),this.pickButton=new C,this.pickButton.node.textContent="Pick",this.delButton=new C,this.delButton.node.textContent="Del",this.node.append(this.flyButton.node,this.backButton.node,this.pickButton.node,this.delButton.node),S.subscribe(()=>{this.flyButton.disableButton(),this.backButton.disableButton(),this.pickButton.disableButton(),this.delButton.disableButton()}),E.subscribe(()=>{this.backButton.enableButton(),this.pickButton.enableButton(),this.delButton.enableButton()}),F.subscribe(()=>{this.flyButton.enableButton(),this.backButton.disableButton()})}}class lt extends n{constructor(){super({tagName:"div",classList:["track"]})}}class ht extends n{constructor(){super({tagName:"div",classList:["witch"]})}}class mt extends n{constructor(){super({tagName:"div",classList:["owl"]})}}const wt="/lyutails-JSFE2023Q1/witch-race/assets/halloween-horror-owl-1ecda387.svg",gt="/lyutails-JSFE2023Q1/witch-race/assets/halloween-horror-owl_polar-234b501c.svg",pt=[wt,gt];class $ extends n{constructor(){super({tagName:"div",classList:["imagined_name_modal"],textContent:"you skipped imagining name then now lalala is the name"}),$.cross=new n({tagName:"div",classList:["cross"]}),this.node.append($.cross.node),document.body.append(this.node)}}class X extends n{constructor(){super({tagName:"div",classList:["overlay"]}),document.body.append(this.node)}}class B extends n{constructor(){super({tagName:"div",classList:["winner_modal"]}),B.winnerModalText=new n({tagName:"div",classList:["winner_modal_text"]}),B.cross=new n({tagName:"div",classList:["winner_cross"]}),this.node.append(B.winnerModalText.node,B.cross.node)}}const O=new f,bt=new f,Y=new f,b=class b extends n{constructor(){super({tagName:"div",classList:["track_wrapper"]}),this.store=m,this.countWitchesAfterDelete=async(t,e,o)=>{try{if(!await W())throw new Error("no witches encounted");t.delButton.node.onclick=i=>this.countWitches(i,e,o)}catch{throw new Error("smth went wrotn with count after delete")}},K.subscribe(()=>{setTimeout(()=>{this.render()},100)}),setTimeout(()=>{this.render()},100),l.raceButton.node.addEventListener("click",this.flyActuallyAllWitches)}render(){this.node.textContent="";const{currentWitches:t}=this.store;b.witchesArrayHTML=[],G(P).then(e=>e.forEach(o=>{const s=new ht,i=new mt;i.node.style.backgroundImage=`url('${i.randomizeOwl(pt)}')`,b.broomWitchName=new n({tagName:"div",classList:["track_broom_witch_name"]});const c=new n({tagName:"div",classList:["track_path"],children:[s,i]}),p=new lt,w=new ut,N=new n({tagName:"div",classList:["track_buttons_and_name"],children:[w,b.broomWitchName]});s.node.style.backgroundColor=o.color,b.broomWitchName.node.textContent=o.name,s.node.id=String(o.id),w.pickButton.node.id=String(o.id),this.node.append(c.node,p.node,N.node),w.pickButton.node.onclick=L=>this.pickWitch(L,o),w.flyButton.node.onclick=L=>{this.flyWitch(L,s,o.id),O.notify(this.disableButtons()),S.notify("lalala"),l.raceButton.disableButton(),window.addEventListener("animationend",()=>{b.enablePagination(),bt.notify(this.enableButtons()),E.notify("lalala"),l.raceButton.enableButton()})},w.backButton.node.onclick=L=>{this.flyBack(L,s),F.notify("lalala"),Y.notify("lalala")},l.raceButton.node.addEventListener("click",()=>{O.notify(this.disableButtons()),S.notify("lalala"),l.raceButton.disableButton(),window.addEventListener("animationend",()=>{this.enableButtons(),E.notify("lalala")})}),l.resetButton.node.addEventListener("click",()=>{s.node.style.animation="unset",F.notify("lalala")}),this.countWitchesAfterDelete(w,o.id,t),b.witchesArrayHTML.push(s)})),h.controlButton.node.onclick=()=>{this.createWitchByClickOnCreate()},l.moreWitchesButton.node.onclick=()=>this.plusWitches()}static async getTime(t,e){const o=await I(t).then(i=>i.velocity),s=+window.innerWidth*.8/+o;return e.node.style.animationDuration=`${+window.innerWidth*.8/+o}s`,s}async flyActuallyAllWitches(){var s,i;const t=await Promise.all(b.witchesArrayHTML.map(async c=>{try{const p=b.getTime(+c.node.id,c);return c.node.style.animationName="witch_fly_anim",c.node.style.animationIterationCount="1",c.node.style.animationFillMode="forwards",c.node.style.animationTimingFunction="ease-in-out",await z(+c.node.id),{id:+c.node.id,wins:1,time:parseFloat((await p).toFixed(2))}}catch{c.node.style.animationPlayState="paused"}finally{at(+c.node.id),a.paginationButtonBeginning.enableButton(),a.paginationButtonLeft.enableButton(),a.paginationButtonRight.enableButton(),a.paginationButtonEnd.enableButton(),l.resetButton.enableButton(),l.moreWitchesButton.enableButton(),h.controlButton.enableButton(),u.controlButton.enableButton(),E.notify("lalala"),l.raceButton.enableButton()}}));if(!t)throw new Error("no promised winner found");const e=t.filter(c=>c!==void 0);console.log(e);const o=[];for(let c=0;c<=e.length;c++){const p=e[c];p!==void 0&&o.push(p.time)}if((o==null?void 0:o.length)>0){const c=Math.min(...o),p=document.body,w=new B,N=new X;p.append(N.node,w.node);const Z=(s=e.filter(y=>(y==null?void 0:y.time)===c)[0])==null?void 0:s.id,H=await G(P),R=(i=H.filter(y=>(y==null?void 0:y.id)===Z)[0])==null?void 0:i.name;console.log(H),B.winnerModalText.node.textContent=`aaaannnd... winner is ${R} finished in ${c} \\o/ ðŸ§™â€â™‚ï¸`,B.cross.node.addEventListener("click",()=>{w.destroy(),B.cross.destroy(),N.destroy()}),N.node.addEventListener("click",()=>{w.destroy(),B.cross.destroy(),N.destroy()})}}pickWitch(t,e){if(!t.target)throw new Error("no pick button found out there");m.indexForUpdate=e.id,u.controlName.node.value=e.name,u.controlColor.node.value=e.color}flyBack(t,e){if(!t.target)throw new Error("no back button found out there");e.node.style.animation="unset"}flyWitch(t,e,o){if(!t.target)throw new Error("no fly button found out there");e.node.style.animationName="witch_fly_anim",e.node.style.animationIterationCount="1",e.node.style.animationFillMode="forwards",e.node.style.animationTimingFunction="ease-in-out",(async()=>{try{const i=await I(o).then(c=>c.velocity);e.node.style.animationDuration=`${+window.innerWidth*.8/+i}s`}catch{throw new Error("smth wrong went with getting time")}})(),z(o)}plusWitches(){for(let s=0;s<100;s++)J(this.getRandomName(),this.getRandomColor());(async()=>{try{const s=await W();if(!s)throw new Error("no witches encounted");v.node.textContent=`Currently total brooms' count is ${s}`}catch{throw new Error("smth wrong went with total count")}})();let{currentWitches:o}=m;o+=100,m.currentWitches=o}countWitches(t,e,o){if(!t.target)throw new Error("no del button found out there");it(e),o-=1,v.node.textContent=`Currently total brooms' count is ${o}`,this.node.textContent="",m.currentWitches=o}createNameModal(t){const e=new n({tagName:"div",classList:["cross"]});if(h.controlName.node.value===""){const o=new X,s=new $;s.node.textContent=`you skipped imagining name then now '${t}' is the name`,setTimeout(()=>{o.destroy(),s.destroy()},4e3),s.node.append(e.node),o.node.addEventListener("click",()=>{o.destroy(),s.destroy(),e.destroy()}),e.node.addEventListener("click",()=>{o.destroy(),s.destroy(),e.destroy()})}}createWitchByClickOnCreate(){const t=this.ifInputName(h.controlName.node.value);h.controlName.node.value===""&&this.createNameModal(t),J(t,h.controlColor.node.value),(async()=>{const s=await W();if(!s)throw new Error("no witches encounted");v.node.textContent=`Currently total brooms' count is ${s}`})();let{currentWitches:o}=m;o+=1,m.currentWitches=o,setTimeout(()=>{h.controlName.node.value=""},100)}static enablePagination(){a.paginationButtonBeginning.enableButton(),a.paginationButtonLeft.enableButton(),a.paginationButtonRight.enableButton(),a.paginationButtonEnd.enableButton()}enableButtons(){l.resetButton.enableButton(),l.moreWitchesButton.enableButton(),h.controlButton.enableButton(),u.controlButton.enableButton(),l.raceButton.enableButton()}disableButtons(){O.subscribe(()=>{this.justDisableButtons()})}justDisableButtons(){a.paginationButtonBeginning.disableButton(),a.paginationButtonLeft.disableButton(),a.paginationButtonRight.disableButton(),a.paginationButtonEnd.disableButton(),l.resetButton.disableButton(),l.moreWitchesButton.disableButton(),h.controlButton.disableButton(),u.controlButton.disableButton()}};b.witchesArrayHTML=[];let q=b;class a extends n{constructor(){super({tagName:"div",classList:["race_pagination"]}),a.paginationButtonBeginning=new n({tagName:"button",classList:["race_pagination_button"]}),a.paginationButtonBeginning.enableButton(),a.paginationButtonBeginning.setCursorPointer(),a.paginationButtonLeft=new n({tagName:"button",classList:["race_pagination_button"]}),a.paginationButtonLeft.enableButton(),a.paginationButtonLeft.setCursorPointer(),a.paginationButtonLeft.node.addEventListener("click",()=>{this.turnPageRight()}),a.paginationButtonNumber=new n({tagName:"button",classList:["race_pagination_button"]}),a.paginationButtonNumber.node.textContent=`${m.currentPage}`,a.paginationButtonRight=new n({tagName:"button",classList:["race_pagination_button"]}),a.paginationButtonRight.enableButton(),a.paginationButtonRight.setCursorPointer(),a.paginationButtonRight.node.addEventListener("click",()=>{this.turnPageLeft()}),a.paginationButtonEnd=new n({tagName:"button",classList:["race_pagination_button"]}),a.paginationButtonEnd.enableButton(),a.paginationButtonEnd.setCursorPointer(),Y.subscribe(()=>{a.paginationButtonBeginning.enableButton(),a.paginationButtonLeft.enableButton(),a.paginationButtonRight.enableButton(),a.paginationButtonEnd.enableButton()}),this.node.append(a.paginationButtonBeginning.node,a.paginationButtonLeft.node,a.paginationButtonNumber.node,a.paginationButtonRight.node,a.paginationButtonEnd.node)}turnPageLeft(){const e=m.currentWitches,o=Math.ceil(e/7);m.currentPage<o&&(a.paginationButtonNumber.node.textContent="",m.currentPage+=1,a.paginationButtonNumber.node.textContent=`${m.currentPage}`,P[0].value=String(m.currentPage))}turnPageRight(){const e=m.currentWitches,o=Math.ceil(e/7);m.currentPage<o&&(a.paginationButtonNumber.node.textContent="",m.currentPage-=1,a.paginationButtonNumber.node.textContent=`${m.currentPage}`,P[0].value=String(m.currentPage))}}class Bt extends n{constructor(){super({tagName:"div",classList:["quidditch"]}),this.store=m;const t=new dt,e=new l;(async()=>{try{const w=await W();if(!w)throw new Error("no witches encounted");v.node.textContent=`Currently total brooms' count is ${w}`}catch{throw new Error("smth actually wrong with witches count")}})();const s=new q,i=new a,c=new n({tagName:"div",classList:["quidditch_warning"],textContent:"Using magic wands during brooms racing is strictly probihited."}),p=new n({tagName:"div",classList:["quidditch_wrapper"],children:[t,e,v,s,i,c]});this.node.append(p.node)}}class yt extends n{constructor(){super({tagName:"div",classList:["winners"]});const t=new n({tagName:"div",classList:["winners_number"],textContent:"â„–"}),e=new n({tagName:"div",classList:["winners_pic"],textContent:"Pic"}),o=new n({tagName:"div",classList:["winners_name"],textContent:"Name"}),s=new n({tagName:"div",classList:["winners_wins"],textContent:"Wins"}),i=new n({tagName:"div",classList:["winners_time"],textContent:"Best Time"}),c=new n({tagName:"div",classList:["winners_line"],children:[t,e,o,s,i]});this.winnersTable=new n({tagName:"div",classList:["winners_table"],children:[c]}),this.totalNumberOfWinners=new n({tagName:"div",classList:["winners_total_number"]}),(async()=>{try{const w=await ct();if(!w)throw new Error("no witches encounted");this.totalNumberOfWinners.node.textContent=`Total Number of Winners is ${w}`}catch{throw new Error("smth actually wrong with winners count")}})(),this.node.append(this.totalNumberOfWinners.node,this.winnersTable.node)}}class ft extends n{constructor(){super({tagName:"div",classList:["footer"]});const t=new n({tagName:"a",classList:["footer_rsschool"],textContent:"RSSchool"});t.addLink("https://rs.school/"),t.node.style.marginRight="1vw";const e=new n({tagName:"a",classList:["footer_year"],textContent:"2023"}),o=new n({tagName:"div",classList:["footer_year_rs_wrapper"],children:[t,e]}),s=new n({tagName:"a",classList:["footer_author"],textContent:"lyutails"});s.addLink("https://github.com/lyutails");const i=new n({tagName:"div",classList:["footer_wrapper"],children:[o,s]});this.node.append(i.node)}}class M extends n{constructor(){super({tagName:"a",classList:["header_button"]})}}class k extends n{constructor(){super({tagName:"div",classList:["header"]});const t=new M;t.addTextContent("Parking Lot"),t.addLink(`#${g.BroomParking}`);const e=new M;e.addTextContent("Quidditch"),e.addLink(`#${g.Quidditch}`);const o=new M;o.addTextContent("Winners"),o.addLink(`#${g.Winners}`);const s=new n({tagName:"div",classList:["header_buttons"],children:[t,e,o]});k.headerSnitch=new n({tagName:"a",classList:["header_snitch"]}),k.headerSnitch.addLink(`#${g.Quidditch}`);const i=new n({tagName:"div",classList:["header_wrapper"],children:[s,k.headerSnitch]});this.node.append(i.node)}}class d{constructor(){this.raceBody=document.body;const t=new k,e=new ft;d.quidditch=new Bt,d.notFound=new tt,d.winners=new yt,d.broomsParking=new V,d.pageBody=new n({tagName:"div",classList:["page_body"]}),d.pageBody.append(d.quidditch),d.run(),this.raceBody.append(t.node,d.pageBody.node,e.node)}static renderNewView(t){d.pageBody.node.textContent="",t===""&&d.pageBody.append(d.quidditch),t===g.Quidditch&&d.pageBody.append(d.quidditch),t===g.BroomParking&&d.pageBody.append(d.broomsParking),t===g.Winners&&d.pageBody.append(d.winners),t===g.NotFound&&d.pageBody.append(d.notFound),t!==g.Quidditch&&t!==g.BroomParking&&t!==g.Winners&&t!==""&&d.pageBody.append(d.notFound)}static enableRouteChange(){window.addEventListener("hashchange",()=>{const t=window.location.hash.slice(1);d.renderNewView(t)}),window.addEventListener("DOMContentLoaded",()=>{const t=window.location.hash.slice(1);d.renderNewView(t)})}static run(){d.renderNewView(g.Quidditch),d.enableRouteChange()}}new d;
